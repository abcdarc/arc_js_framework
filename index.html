<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>arc_Jquery_FrameWork</title>
	<script src="js/jquery-1.11.2.min.js"></script> 
	<script src="js/tableGrid.js"></script> 
	<script src="js/jDialog.js"></script> 
	<script src="data/tableData.js"></script> 
	<script>
		
	// 外部資料
		
	//tableData = [];
	$(function(){
		
		var table = new tableGrid({
			obj:$('#A'),//$('body'), // 指定容器
			test:true,
			// 載入資料控制
			data:{
				data:tableData, // 指定讀取資料
				dataKey:'id',// 設定鍵值
				pageShowNb : 2, // 每頁顯示筆數 : 預設為20筆
				showPageLink : 10, // 每頁顯示翻頁連結數 : 預設為5筆 , 最多9筆 , 只會是積數
				totalRow: tableData.length, // 設定全部資料筆數
				// 取出資料表名稱
				getList:{
					id:{edtype:'hidden', type:'number', edtable:false, view:false},
					name:{edtype:'text',type:'string'},
					email:{edtype:'text',type:'string',validation: { required: true}},
					tel:{edtype:'text',type:'string'},
					mobile:{edtype:'text',type:'string',validation: { required: true}},
					old:{edtype:'text',type:'number'}
				}
			},
			// 
			columns:{
				id:{title:'編號',width:'50px'},
				name:{title:'姓名',width:'150px'},
				email:{title:'電子郵件',width:'250px'},
				tel:{title:'聯絡電話',width:'150px'},
				mobile:{title:'手機',width:'150px'},
				old:{title:'年齡',width:'80px'}
			},
			edtable:true
		});
		
		var table2 = new tableGrid({
			obj:$('#B'), // 指定容器
			test:true,
			// 載入資料控制
			data:{
				data:tableData, // 指定讀取資料
				dataKey:'id',// 設定鍵值
				pageShowNb : 3, // 每頁顯示筆數 : 預設為20筆
				showPageLink : 10, // 每頁顯示翻頁連結數 : 預設為5筆 , 最多9筆 , 只會是積數
				totalRow: tableData.length, // 設定全部資料筆數
				// 取出資料表名稱
				getList:{
					id:{edtype:'hidden',type:'number',edtable:false,view:false},
					name:{edtype:'text',type:'string',edtable:false},
					email:{edtype:'text',type:'string',validation: { required: true}},
					tel:{edtype:'text',type:'string'},
					mobile:{edtype:'text',type:'string',validation: { required: true}},
					old:{edtype:'text',type:'number'}
				}
			},
			columns:{
				id:{title:'編號'},
				name:{title:'姓名',width:'150px'},
				email:{title:'電子郵件',width:'250px'},
				tel:{title:'聯絡電話',width:'150px'},
				mobile:{title:'手機',width:'150px'},
				old:{title:'年齡',width:'80px'}
			}
			,edtable:'inlineEdit'
			
		});
		
		var table3 = new tableGrid({
			obj:"#onlyTable", // 指定容器
			test:true,
			// 載入資料控制
			data:{
				pageShowNb : 4, // 每頁顯示筆數 : 預設為20筆
				showPageLink : 10, // 每頁顯示翻頁連結數 : 預設為5筆 , 最多9筆 , 只會是積數
				// 取出資料表名稱
				getList:{
					id:{edtype:'hidden',type:'number',edtable:false,view:false},
					prod_name:{edtype:'text',type:'string'},
					price:{edtype:'text',type:'number',validation: { required: true}}
				}
			}
		});
		
		var table4 = new tableGrid({
			obj:"#onlyTable2", // 指定容器
			test:true,
			// 載入資料控制
			data:{
				pageShowNb : 5, // 每頁顯示筆數 : 預設為20筆
				showPageLink : 10, // 每頁顯示翻頁連結數 : 預設為5筆 , 最多9筆 , 只會是積數
				// 取出資料表名稱
				getList:{
					id:{edtype:'hidden',type:'number',edtable:false,view:false},
					prod_name:{edtype:'text',type:'string'},
					price:{edtype:'text',type:'number',validation: { required: true}}
				}
			}
		});
		
		// 產生視窗物件
		var dialog1 = new jDialog({
			obj:'#dialog', // 指定物件
			width:'600px', // 指定寬度
			height:'400px', // 指定高度
			title:'測式用視窗', // 指定標題
			modal:true, // 是否有網屏
			//close:false, // 預設為關閉
			button:true // 取預設按鈕 : 如果沒設定為undefined
		});
		
		$('.show_dialog').click(function(){
			var message = '';
			message = $('.change_message').val();
			if(message=='') dialog1.show();
			else dialog1.show(message);
		});
		var sx = 'START';
		
		function runFunction(){
			alert('I am Run Function.');
			newSetting.close();
		}
		
		$('.show_dialog_object').click(function(){
			var newSetting = {
				width:'800px', // 指定寬度
				height:'600px', // 指定高度
				title:'測式物件視窗', // 指定標題
				html:"Run it is Object.",
				button:runFunction,
				button:{
					'dd':{
						value:'確認',
						run:function(){
							alert('OKOK');
							dialog1.close();
						}
					}
				}
			};
			dialog1.show(newSetting);
		});
		
		$('.show_dialog_object2').click(function(){
			var newSetting = {
				width:'600px', // 指定寬度
				height:'400px', // 指定高度
				title:'測式物件視窗2', // 指定標題
				html:"Run it is Object @2.",
				button:runFunction,
				modal:false, // 是否有網屏
				button:{
					'submit':{
						value:'確認',
						run:function(){
							alert('OKOK2');
							dialog1.close();
						}
					},
					'cancel':{
						value:'取消',
						run:function(){
							dialog1.close();
						}
					}
				}
			};
			dialog1.show(newSetting);
		});
		
		
	});
	</script>
<style class="arc_dataGrid__">
body{margin:50px;font-size:14px;}
/*最外層 - 導角*/
#arc_dataGrid{border:1px solid #ccc;border-radius:5px;overflow:hidden;}
_#arc_dataGrid tr:first-child th:first-child{border-top-left-radius:3px;overflow:hidden;}
_#arc_dataGrid tr:first-child th:last-child{border-top-right-radius:3px;overflow:hidden;}
_#arc_dataGrid tfoot tr:last-child td:first-child{border-bottom-left-radius:3px;overflow:hidden;}
_#arc_dataGrid tfoot tr:last-child td:last-child{border-bottom-right-radius:3px;overflow:hidden;}
/* 連結無底線 */
#arc_dataGrid a{text-decoration:none;}
#arc_dataGrid table{width:100%;border-collapse: collapse;}
/* 翻頁連結工具列 - 內容置中 */
#arc_dataGrid .flipPageBox{text-align:center;} 
/* 翻頁連結 */
#arc_dataGrid .flipPageBox a{border:1px solid #ddd; margin:0 0 0 5px; padding: 2px 5px 2px 5px;display:inline-block; border-radius:3px;overflow:hidden;}
/* 翻頁連結 或  滑鼠移置時 */
#arc_dataGrid .flipPageBox a:hover, #arc_dataGrid .hover{background:#333;color:#fff;}
/* TH 字體大小 */
#arc_dataGrid table th{font-size:14px;}
/* TD 字體大小 */
#arc_dataGrid table td{font-size:13px;height:30px;}
_#arc_dataGrid tr th:first-child, _#arc_dataGrid tr td:first-child{border-left:1px solid #ccc;}
/* TD TH 固定左邊有格線 */
#arc_dataGrid tr th, #arc_dataGrid tr td{padding:5px;border-right:1px solid #ccc;}
/* 每個TR 最後一個TD TH 沒有左邊的格線 */
#arc_dataGrid tr th:last-child, #arc_dataGrid tr td:last-child{border-right:0px solid #ccc;}
/* TH 有下方格線 */
#arc_dataGrid tr th{background:#eee;border-bottom:1px solid #ccc;}
/* THEAD TH 連結滑鼠移置時切換底色 */
#arc_dataGrid thead tr th:hover{color:#666;}
/* TBODY - 最後一個TR 的TD 都有下方底線 */
#arc_dataGrid tbody tr:last-child td{border-bottom:1px solid #ccc;}
_#arc_dataGrid thead tr:first-child th{border-top:1px solid #ccc;}
/* TBODY - 的TR滑鼠移置時 - 變更所有TD底色 */
#arc_dataGrid tbody tr:hover td{color:#fff; background: #3af;}
/* TBODY - 的TR交換變更背景顏色 */
_#arc_dataGrid tbody tr:nth-child(even),.evenbk{background: #f3f3f3;}
/* TFOOT 的TD 背景顏色 */
#arc_dataGrid tfoot td{background:#eee;border-top:#ccc solid 1px;}
/* 連結被取消時的樣式 */
#arc_dataGrid a.normal, #arc_dataGrid a.normal:hover{color:#aaa;border:1px solid #eee;background:#fff;cursor:text;}
/* 隱藏內容 */
#arc_dataGrid .hide{display:none;}
#arc_dataGrid input[type=text]{border:1px solid #efefef;border-radius:2px;padding:5px;width:90%;}

.arcfrbtn{border-radius:3px;margin:0 5px 0 0;padding:3px;border:1px solid #999;display:inline-block;cursor:pointer;background:#efefef url(images/sbk.jpg) 10px -10px repeat-x;}
.arcfrbtn:hover{background:#ddd;}
.arcFromHide{display:none;}

.arcDialog {display:none;border-radius:5px;_border:1px solid #efefef;box-shadow:0px 0px 3px rgba(20%,20%,20%,0.2); position:absolute;z-index:0;left:50%;top:50%;margin-left:-300px;margin-top:-100px;padding:2px;background:#fff;width:300px;min-width:300px;}
.arcDialogCloseBt {position:absolute;right:5px;cursor:pointer;}
.arcDialogHead {text-align:left;padding:5px;background:#f1f1f1 url(images/sbk.jpg) 10px -20px repeat-x;margin-bottom:10px;font-weight:bold;color:#333;}
.arcDialogBody {padding:0 20px 0 20px;}
.arcDialogBody div {margin:5px 0 5px 0;}
.arcDialog label {width:30%;min-width:80px;max-width:150px;display:inline-block;padding:0 0 0 5px;}
.arcDialog input {width:60%;border-radius:2px;border:1px solid #efefef;padding:5px;}
.arcDialogFoot{text-align:center;padding:5px 0 5px 0;margin-top:10px;}
.arcModal{display:none; width:100%; height:100%; position:fixed;background:rgba(200,200,200,0.5);left:0;top:0;}
</style>


</head>
<body>
	<input type='text' class='change_message' value=''>
	<input type='button' class='show_dialog' value='Show Dialog'/>
	<input type='button' class='show_dialog_object' value='Show Dialog Object'/>
	<input type='button' class='show_dialog_object2' value='Show Dialog Object 2'/>
	<div id='dialog'><span style='text-align:center;'>TEST message</span></div>

	<h2>直接編輯表格</h2>
	<div id='A' style='width:800px;margin-bottom:30px;'></div>
	
	<h2>編輯表格行</h2>
	<div id='B' style='width:1200px;margin-bottom:30px;'></div>
	
	<h2>TABLE直接套用樣式並翻頁</h2>
	<table id='onlyTable'>
		<thead>
		<tr>
			<th tableName='productId'>ID</th>
			<th tableName='productName'>商品名稱</th>
			<th tableName='ProductPrice'>價格</th>
			<th >管理</th>
		</tr>
		</thead>
		<tbody>
		<tr>
			<td>1</td>
			<td>測式商品1</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>2</td>
			<td>測式商品2</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>3</td>
			<td>測式商品3</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>4</td>
			<td>測式商品4</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>5</td>
			<td>測式商品5</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		</tbody>
	</table>
	
	<h2>TABLE直接套用樣式</h2>
	<table id='onlyTable2'>
	
		<tr>
			<th tableName='productId'>ID</th>
			<th tableName='productName'>商品名稱</th>
			<th tableName='ProductPrice'>價格</th>
			<th >管理</th>
		</tr>
		
		<tr>
			<td>1</td>
			<td>測式商品1</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>2</td>
			<td>測式商品2</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>3</td>
			<td>測式商品3</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>4</td>
			<td>測式商品4</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		<tr>
			<td>5</td>
			<td>測式商品5</td>
			<td>100</td>
			<td><input name='edit' type='button' value='編輯' /><input name='del' type='button' value='刪除' /></td>
		</tr>
		
	</table>
	
</body>
</html>